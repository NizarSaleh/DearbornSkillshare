{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Desktop\\\\dearbornskillshare\\\\main\\\\Frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport logo from './logo.png';\nimport electronicsIcon from './electronics.png';\nimport appliancesIcon from './appliances.png';\nimport mechanicsIcon from './mech.png';\nimport { jwtDecode } from 'jwt-decode';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _posts$selectedCatego;\n  const [page, setPage] = useState('home');\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [posts, setPosts] = useState({});\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentImageIndex, setCurrentImageIndex] = useState({});\n  const [comments, setComments] = useState({});\n  const [users, setUsers] = useState([]); // Admin user list\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const adminCredentials = {\n    email: \"admin@example.com\",\n    password: \"adminpass\"\n  };\n  const handleAdminLogin = async (email, password) => {\n    if (email === adminCredentials.email && password === adminCredentials.password) {\n      alert(\"Welcome, Admin!\");\n      setPage(\"admin\");\n      setLoggedInUser({\n        name: \"Admin\",\n        isAdmin: true\n      });\n      return true;\n    } else {\n      alert(\"Invalid admin credentials.\");\n      return false;\n    }\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const decoded = jwtDecode(token); // Correct usage\n        setLoggedInUser(decoded);\n        setIsLoggedIn(true);\n      } catch (error) {\n        console.error('Error decoding token:', error);\n      }\n    }\n  }, []);\n  const handleLogin = async (email, password) => {\n    try {\n      const response = await axios.post('http://localhost:5000/api/login', {\n        email,\n        password\n      });\n      const {\n        token\n      } = response.data;\n      localStorage.setItem('token', token);\n      const decoded = jwtDecode(token); // Correct usage\n      setLoggedInUser(decoded);\n      setIsLoggedIn(true);\n      return true;\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Error logging in:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to log in. Please check your credentials.');\n      return false;\n    }\n  };\n\n  // Fetch users for Admin Dashboard\n  const fetchUsers = async () => {\n    try {\n      const token = localStorage.getItem('token'); // Retrieve the JWT token\n      const response = await axios.get('http://localhost:5000/api/users', {\n        headers: {\n          Authorization: `Bearer ${token}` // Include Authorization header\n        }\n      });\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      alert('Failed to load users.');\n    }\n  };\n\n  // Fetch posts for the selected category\n  const fetchPosts = async category => {\n    try {\n      const token = localStorage.getItem('token'); // Retrieve the JWT token\n      const response = await axios.get(`http://localhost:5000/api/posts/${category}`, {\n        headers: {\n          Authorization: `Bearer ${token}` // Include Authorization header\n        }\n      });\n      setPosts(prevPosts => ({\n        ...prevPosts,\n        [category]: response.data\n      }));\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n      alert('Failed to load posts.');\n    }\n  };\n  useEffect(() => {\n    if (page === 'admin') {\n      fetchUsers();\n    } else if (page === 'category' && selectedCategory) {\n      fetchPosts(selectedCategory);\n    }\n  }, [page, selectedCategory]);\n  useEffect(() => {\n    if (page === 'category' && selectedCategory) {\n      fetchPosts(selectedCategory);\n    }\n  }, [page, selectedCategory]);\n  useEffect(() => {\n    const preloadPosts = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get('http://localhost:5000/api/posts', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setPosts(response.data.reduce((acc, post) => {\n          acc[post.category] = acc[post.category] || [];\n          acc[post.category].push(post);\n          return acc;\n        }, {}));\n      } catch (error) {\n        console.error('Error preloading posts:', error.message);\n      }\n    };\n    if (isLoggedIn) {\n      preloadPosts();\n    }\n  }, [isLoggedIn]);\n\n  // Toggle user activation\n  const toggleUserActivation = async (userId, currentStatus) => {\n    try {\n      await axios.patch(`http://localhost:5000/api/users/${userId}`, {\n        isActive: !currentStatus // Toggle status\n      });\n      setUsers(prevUsers => prevUsers.map(user => user.id === userId ? {\n        ...user,\n        isActive: !currentStatus\n      } : user));\n      alert(`User account ${!currentStatus ? 'activated' : 'deactivated'} successfully!`);\n    } catch (error) {\n      console.error('Error updating user status:', error);\n      alert('Failed to update user status.');\n    }\n  };\n  const handleNavigate = targetPage => {\n    if (targetPage === 'admin' && (!loggedInUser || !loggedInUser.isAdmin)) {\n      setPage('adminLogin'); // Redirect to admin login if not authenticated\n    } else {\n      setPage(targetPage); // Navigate to the target page\n    }\n  };\n  const handleCategoryClick = category => {\n    setSelectedCategory(category);\n    setPage('category');\n  };\n  const handleModalToggle = () => setModalOpen(!isModalOpen);\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    if (!loggedInUser) {\n      alert('You must be logged in to post.');\n      return;\n    }\n    const postContent = e.target.elements['postContent'].value;\n    const files = e.target.elements['fileUpload'].files;\n    if (!postContent.trim()) return alert('Post content cannot be empty!');\n    const formData = new FormData();\n    formData.append('category', selectedCategory);\n    formData.append('content', postContent);\n    Array.from(files).forEach(file => formData.append('files', file));\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post('http://localhost:5000/api/posts', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          // Add token for authenticated requests\n          'Content-Type': 'multipart/form-data' // Required for file uploads\n        }\n      });\n      setPosts(prevPosts => ({\n        ...prevPosts,\n        [selectedCategory]: [...(prevPosts[selectedCategory] || []), {\n          ...response.data,\n          date: new Date().toLocaleDateString()\n        }]\n      }));\n      setModalOpen(false);\n      e.target.reset();\n    } catch (error) {\n      console.error('Error saving post:', error);\n      alert('Failed to save post.');\n    }\n  };\n  const handleImageNav = (postId, category, direction) => {\n    setCurrentImageIndex(prevState => {\n      var _posts$category;\n      const newState = {\n        ...prevState\n      };\n      const totalImages = (_posts$category = posts[category]) === null || _posts$category === void 0 ? void 0 : _posts$category.find(post => post.id === postId).files.length;\n      const newIndex = (newState[postId] || 0) + direction;\n      newState[postId] = (newIndex + totalImages) % totalImages;\n      return newState;\n    });\n  };\n  const handleAddComment = (postId, category, commentText) => {\n    if (!commentText.trim()) return;\n    setComments(prevComments => ({\n      ...prevComments,\n      [postId]: [...(prevComments[postId] || []), {\n        text: commentText,\n        username: isLoggedIn ? 'John Doe' : 'Anonymous'\n      }]\n    }));\n  };\n  const handleDeletePost = async (postId, category) => {\n    const token = localStorage.getItem('token'); // Auth token\n    try {\n      await axios.delete(`http://localhost:5000/api/posts/${postId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Update posts in the frontend\n      setPosts(prevPosts => ({\n        ...prevPosts,\n        [category]: prevPosts[category].filter(post => post.id !== postId)\n      }));\n      alert('Post deleted successfully.');\n    } catch (error) {\n      console.error('Error deleting post:', error);\n      alert('Failed to delete post.');\n    }\n  };\n  const handleSignUp = async e => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const userData = {\n      name: formData.get('name'),\n      email: formData.get('email'),\n      password: formData.get('password'),\n      zipcode: formData.get('zipcode')\n    };\n    try {\n      await axios.post('http://localhost:5000/api/users', userData);\n      alert('User registered successfully!');\n      setPage('community');\n    } catch (error) {\n      console.error('Error during sign-up:', error);\n      alert('Failed to register user.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-link\",\n              onClick: () => handleNavigate('home'),\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-link\",\n              onClick: () => handleNavigate('about'),\n              children: \"About\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-link\",\n              onClick: () => handleNavigate('community'),\n              children: \"Community\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-link\",\n              onClick: () => handleNavigate('admin'),\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 11\n          }, this), loggedInUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-user\",\n              children: [\"Welcome \", loggedInUser.name, \"!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"nav-link\",\n                onClick: () => {\n                  setLoggedInUser(null); // Clear user state\n                  setIsLoggedIn(false); // Update login status\n                  localStorage.removeItem('token'); // Remove token from localStorage\n                  setPage('home'); // Redirect to home page\n                },\n                children: \"Log Out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), page === 'home' && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"SkillShare Dearborn Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to SkillShare - Dearborn!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Register as a Resident or Log In Below:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: () => handleNavigate('signup'),\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: () => handleNavigate('login'),\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }, this), page === 'about' && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"about-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"about-banner\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"SkillShare Dearborn Logo\",\n          className: \"about-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"About Us\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"about-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Welcome to SkillShare Dearborn, a community-driven platform dedicated to fostering sustainability, skill-sharing, and environmental consciousness through collaborative repair events.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Join us to learn new skills, save money, and contribute to a more environmentally friendly Dearborn!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }, this), page === 'community' && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"community-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Find a Community Repair Forum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-categories\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-item\",\n          onClick: () => handleCategoryClick('Mechanics'),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: mechanicsIcon,\n            alt: \"Mechanics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Mechanics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-item\",\n          onClick: () => handleCategoryClick('Electronics'),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: electronicsIcon,\n            alt: \"Electronics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Electronics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-item\",\n          onClick: () => handleCategoryClick('Home Appliances'),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: appliancesIcon,\n            alt: \"Home Appliances\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Home Appliances\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 9\n    }, this), page === 'category' && selectedCategory && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"category-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"community-logo\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: selectedCategory === 'Mechanics' ? mechanicsIcon : selectedCategory === 'Electronics' ? electronicsIcon : appliancesIcon,\n          alt: selectedCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [selectedCategory, \" Forum\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"posts\",\n        children: ((_posts$selectedCatego = posts[selectedCategory]) === null || _posts$selectedCatego === void 0 ? void 0 : _posts$selectedCatego.length) > 0 ? posts[selectedCategory].map(post => {\n          var _post$files, _post$files2, _post$files3, _comments$post$id;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-slider\",\n              children: [((_post$files = post.files) === null || _post$files === void 0 ? void 0 : _post$files.length) > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"arrow left-arrow\",\n                onClick: () => handleImageNav(post.id, selectedCategory, -1),\n                children: \"<\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 23\n              }, this), ((_post$files2 = post.files) === null || _post$files2 === void 0 ? void 0 : _post$files2.length) > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: post.files[currentImageIndex[post.id] || 0] // Show the current image\n                ,\n                alt: \"Post content\",\n                className: \"post-image\",\n                onError: e => {\n                  e.target.src = 'default-image.png'; // Use fallback image\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"default-image.png\",\n                alt: \"Default content\",\n                className: \"post-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 23\n              }, this), ((_post$files3 = post.files) === null || _post$files3 === void 0 ? void 0 : _post$files3.length) > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"arrow right-arrow\",\n                onClick: () => handleImageNav(post.id, selectedCategory, 1),\n                children: \">\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"post-text\",\n                children: post.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"post-username\",\n                  children: [\"By \", post.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"post-date\",\n                  children: post.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), ((loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.id) === post.userId || (loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.isAdmin)) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-button\",\n                  onClick: () => handleDeletePost(post.id, selectedCategory),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comments-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Comments:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"comments-list\",\n                  children: (_comments$post$id = comments[post.id]) === null || _comments$post$id === void 0 ? void 0 : _comments$post$id.map((comment, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"comment\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"comment-text\",\n                      children: comment.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"comment-footer\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: comment.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 452,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"add-comment-form\",\n                  onSubmit: e => {\n                    e.preventDefault();\n                    const commentText = e.target.elements['commentInput'].value;\n                    handleAddComment(post.id, selectedCategory, commentText);\n                    e.target.reset();\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"commentInput\",\n                    placeholder: \"Add a comment...\",\n                    className: \"comment-input\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"comment-button\",\n                    children: \"Comment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-posts\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No Posts Yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-button\",\n        onClick: handleModalToggle,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }, this), isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Create a Post in \", selectedCategory]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleFormSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"postContent\",\n              placeholder: `Connect with the ${selectedCategory} community here...`,\n              className: \"form-textarea\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                name: \"fileUpload\",\n                className: \"form-file\",\n                multiple: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"popup-submit-button\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"popup-close-button\",\n            onClick: handleModalToggle,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 9\n    }, this), page === 'adminLogin' && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: require('./adminpage.png'),\n          alt: \"Admin Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Admin Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          const email = e.target.elements['email'].value;\n          const password = e.target.elements['password'].value;\n\n          // Validate admin credentials\n          const success = handleAdminLogin(email, password);\n          if (success) {\n            setPage(\"admin\"); // Navigate to admin dashboard\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Admin Email\",\n          className: \"form-input\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          className: \"form-input\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button back-button\",\n        onClick: () => handleNavigate('home'),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 3\n    }, this), page === 'admin' && (loggedInUser === null || loggedInUser === void 0 ? void 0 : loggedInUser.isAdmin) && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"admin-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Registered Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 7\n        }, this), users.length > 0 ? users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-user\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 16\n            }, this), \" \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 16\n            }, this), \" \", user.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Zipcode:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 16\n            }, this), \" \", user.zipcode]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 16\n            }, this), \" \", user.isActive ? 'Active' : 'Inactive']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleUserActivation(user.id, user.isActive),\n            children: user.isActive ? 'Deactivate' : 'Activate'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No users found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 3\n    }, this), page === 'signup' && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content signup-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"SkillShare Dearborn Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign Up Here!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSignUp,\n        className: \"signup-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"form-label\",\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            placeholder: \"Full Name\",\n            className: \"form-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            placeholder: \"Email Address\",\n            className: \"form-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            className: \"form-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"zipcode\",\n            className: \"form-label\",\n            children: \"Zipcode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"zipcode\",\n            name: \"zipcode\",\n            placeholder: \"Zipcode\",\n            className: \"form-input\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button form-submit-button\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button back-button\",\n        onClick: () => handleNavigate('home'),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 3\n    }, this), page === 'login' && /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"SkillShare Dearborn Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: async e => {\n          e.preventDefault();\n          const email = e.target.elements['email'].value;\n          const password = e.target.elements['password'].value;\n\n          // Call the reusable handleLogin function\n          const success = await handleLogin(email, password);\n          if (success) {\n            // Navigate to the community page on successful login\n            setPage('community');\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Email Address\",\n          className: \"form-input\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          className: \"form-input\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button\",\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button back-button\",\n        onClick: () => handleNavigate('home'),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"5ISHudAXbgj/sqecnfF2SiQAQ2g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","logo","electronicsIcon","appliancesIcon","mechanicsIcon","jwtDecode","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_posts$selectedCatego","page","setPage","selectedCategory","setSelectedCategory","isModalOpen","setModalOpen","posts","setPosts","isLoggedIn","setIsLoggedIn","currentImageIndex","setCurrentImageIndex","comments","setComments","users","setUsers","loggedInUser","setLoggedInUser","adminCredentials","email","password","handleAdminLogin","alert","name","isAdmin","token","localStorage","getItem","decoded","error","console","handleLogin","response","post","data","setItem","_error$response","_error$response2","_error$response2$data","message","fetchUsers","get","headers","Authorization","fetchPosts","category","prevPosts","preloadPosts","reduce","acc","push","toggleUserActivation","userId","currentStatus","patch","isActive","prevUsers","map","user","id","handleNavigate","targetPage","handleCategoryClick","handleModalToggle","handleFormSubmit","e","preventDefault","postContent","target","elements","value","files","trim","formData","FormData","append","Array","from","forEach","file","date","Date","toLocaleDateString","reset","handleImageNav","postId","direction","prevState","_posts$category","newState","totalImages","find","length","newIndex","handleAddComment","commentText","prevComments","text","username","handleDeletePost","delete","filter","handleSignUp","userData","zipcode","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","removeItem","src","alt","_post$files","_post$files2","_post$files3","_comments$post$id","onError","content","comment","index","onSubmit","type","placeholder","required","multiple","require","success","htmlFor","_c","$RefreshReg$"],"sources":["C:/Users/Owner/Desktop/dearbornskillshare/main/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\nimport logo from './logo.png';\r\nimport electronicsIcon from './electronics.png';\r\nimport appliancesIcon from './appliances.png';\r\nimport mechanicsIcon from './mech.png';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nfunction App() {\r\n  const [page, setPage] = useState('home');\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [posts, setPosts] = useState({});\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState({});\r\n  const [comments, setComments] = useState({});\r\n  const [users, setUsers] = useState([]); // Admin user list\r\n  const [loggedInUser, setLoggedInUser] = useState(null);\r\n\r\n  const adminCredentials = {\r\n    email: \"admin@example.com\",\r\n    password: \"adminpass\",\r\n  };\r\n  \r\n  const handleAdminLogin = async (email, password) => {\r\n    if (email === adminCredentials.email && password === adminCredentials.password) {\r\n      alert(\"Welcome, Admin!\");\r\n      setPage(\"admin\");\r\n      setLoggedInUser({ name: \"Admin\", isAdmin: true });\r\n      return true;\r\n    } else {\r\n      alert(\"Invalid admin credentials.\");\r\n      return false;\r\n    }\r\n  };\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      try {\r\n        const decoded = jwtDecode(token); // Correct usage\r\n        setLoggedInUser(decoded);\r\n        setIsLoggedIn(true);\r\n      } catch (error) {\r\n        console.error('Error decoding token:', error);\r\n      }\r\n    }\r\n  }, []);\r\n  \r\n  const handleLogin = async (email, password) => {\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/login', { email, password });\r\n      const { token } = response.data;\r\n      localStorage.setItem('token', token);\r\n  \r\n      const decoded = jwtDecode(token); // Correct usage\r\n      setLoggedInUser(decoded);\r\n      setIsLoggedIn(true);\r\n  \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error logging in:', error.response?.data || error.message);\r\n      alert(error.response?.data?.error || 'Failed to log in. Please check your credentials.');\r\n      return false;\r\n    }\r\n  };\r\n  \r\n  \r\n  \r\n  // Fetch users for Admin Dashboard\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token'); // Retrieve the JWT token\r\n      const response = await axios.get('http://localhost:5000/api/users', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`, // Include Authorization header\r\n        },\r\n      });\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      alert('Failed to load users.');\r\n    }\r\n  };\r\n  \r\n  // Fetch posts for the selected category\r\n  const fetchPosts = async (category) => {\r\n    try {\r\n      const token = localStorage.getItem('token'); // Retrieve the JWT token\r\n      const response = await axios.get(`http://localhost:5000/api/posts/${category}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`, // Include Authorization header\r\n        },\r\n      });\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        [category]: response.data,\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching posts:', error);\r\n      alert('Failed to load posts.');\r\n    }\r\n  };\r\n  \r\n\r\nuseEffect(() => {\r\n  if (page === 'admin') {\r\n    fetchUsers();\r\n  } else if (page === 'category' && selectedCategory) {\r\n    fetchPosts(selectedCategory);\r\n  }\r\n}, [page, selectedCategory]);\r\n\r\nuseEffect(() => {\r\n  if (page === 'category' && selectedCategory) {\r\n    fetchPosts(selectedCategory);\r\n  }\r\n}, [page, selectedCategory]);\r\n\r\nuseEffect(() => {\r\n  const preloadPosts = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get('http://localhost:5000/api/posts', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setPosts(response.data.reduce((acc, post) => {\r\n        acc[post.category] = acc[post.category] || [];\r\n        acc[post.category].push(post);\r\n        return acc;\r\n      }, {}));\r\n    } catch (error) {\r\n      console.error('Error preloading posts:', error.message);\r\n    }\r\n  };\r\n\r\n  if (isLoggedIn) {\r\n    preloadPosts();\r\n  }\r\n}, [isLoggedIn]);\r\n\r\n\r\n  // Toggle user activation\r\n  const toggleUserActivation = async (userId, currentStatus) => {\r\n    try {\r\n      await axios.patch(`http://localhost:5000/api/users/${userId}`, {\r\n        isActive: !currentStatus, // Toggle status\r\n      });\r\n  \r\n      setUsers((prevUsers) =>\r\n        prevUsers.map((user) =>\r\n          user.id === userId ? { ...user, isActive: !currentStatus } : user\r\n        )\r\n      );\r\n      alert(`User account ${!currentStatus ? 'activated' : 'deactivated'} successfully!`);\r\n    } catch (error) {\r\n      console.error('Error updating user status:', error);\r\n      alert('Failed to update user status.');\r\n    }\r\n  };\r\n  \r\n\r\n  \r\n\r\n  const handleNavigate = (targetPage) => {\r\n    if (targetPage === 'admin' && (!loggedInUser || !loggedInUser.isAdmin)) {\r\n      setPage('adminLogin'); // Redirect to admin login if not authenticated\r\n    } else {\r\n      setPage(targetPage); // Navigate to the target page\r\n    }\r\n  };\r\n  \r\n\r\n  const handleCategoryClick = (category) => {\r\n    setSelectedCategory(category);\r\n    setPage('category');\r\n  };\r\n\r\n  const handleModalToggle = () => setModalOpen(!isModalOpen);\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!loggedInUser) {\r\n        alert('You must be logged in to post.');\r\n        return;\r\n    }\r\n\r\n    const postContent = e.target.elements['postContent'].value;\r\n    const files = e.target.elements['fileUpload'].files;\r\n\r\n    if (!postContent.trim()) return alert('Post content cannot be empty!');\r\n\r\n    const formData = new FormData();\r\n    formData.append('category', selectedCategory);\r\n    formData.append('content', postContent);\r\n    Array.from(files).forEach((file) => formData.append('files', file));\r\n\r\n    try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await axios.post('http://localhost:5000/api/posts', formData, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`, // Add token for authenticated requests\r\n                'Content-Type': 'multipart/form-data', // Required for file uploads\r\n            },\r\n        });\r\n        setPosts((prevPosts) => ({\r\n            ...prevPosts,\r\n            [selectedCategory]: [\r\n                ...(prevPosts[selectedCategory] || []),\r\n                { ...response.data, date: new Date().toLocaleDateString() },\r\n            ],\r\n        }));\r\n        setModalOpen(false);\r\n        e.target.reset();\r\n    } catch (error) {\r\n        console.error('Error saving post:', error);\r\n        alert('Failed to save post.');\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n  const handleImageNav = (postId, category, direction) => {\r\n    setCurrentImageIndex((prevState) => {\r\n      const newState = { ...prevState };\r\n      const totalImages = posts[category]?.find((post) => post.id === postId).files.length;\r\n      const newIndex = (newState[postId] || 0) + direction;\r\n      newState[postId] = (newIndex + totalImages) % totalImages;\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  const handleAddComment = (postId, category, commentText) => {\r\n    if (!commentText.trim()) return;\r\n    setComments((prevComments) => ({\r\n      ...prevComments,\r\n      [postId]: [...(prevComments[postId] || []), { text: commentText, username: isLoggedIn ? 'John Doe' : 'Anonymous' }],\r\n    }));\r\n  };\r\n\r\n  const handleDeletePost = async (postId, category) => {\r\n    const token = localStorage.getItem('token'); // Auth token\r\n    try {\r\n        await axios.delete(`http://localhost:5000/api/posts/${postId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        });\r\n\r\n        // Update posts in the frontend\r\n        setPosts((prevPosts) => ({\r\n            ...prevPosts,\r\n            [category]: prevPosts[category].filter((post) => post.id !== postId),\r\n        }));\r\n\r\n        alert('Post deleted successfully.');\r\n    } catch (error) {\r\n        console.error('Error deleting post:', error);\r\n        alert('Failed to delete post.');\r\n    }\r\n};\r\n\r\n  const handleSignUp = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target);\r\n    const userData = {\r\n      name: formData.get('name'),\r\n      email: formData.get('email'),\r\n      password: formData.get('password'),\r\n      zipcode: formData.get('zipcode'),\r\n    };\r\n\r\n    try {\r\n      await axios.post('http://localhost:5000/api/users', userData);\r\n      alert('User registered successfully!');\r\n      setPage('community');\r\n    } catch (error) {\r\n      console.error('Error during sign-up:', error);\r\n      alert('Failed to register user.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"header\">\r\n        <nav className=\"navbar\">\r\n        <ul>\r\n          <li><button className=\"nav-link\" onClick={() => handleNavigate('home')}>Home</button></li>\r\n          <li><button className=\"nav-link\" onClick={() => handleNavigate('about')}>About</button></li>\r\n          <li><button className=\"nav-link\" onClick={() => handleNavigate('community')}>Community</button></li>\r\n          <li><button className=\"nav-link\" onClick={() => handleNavigate('admin')}>Admin</button></li>\r\n          {loggedInUser && (\r\n            <>\r\n              <li className=\"nav-user\">\r\n                Welcome {loggedInUser.name}!\r\n              </li>\r\n              <li>\r\n                  <button\r\n                      className=\"nav-link\"\r\n                      onClick={() => {\r\n                          setLoggedInUser(null); // Clear user state\r\n                          setIsLoggedIn(false); // Update login status\r\n                          localStorage.removeItem('token'); // Remove token from localStorage\r\n                          setPage('home'); // Redirect to home page\r\n                      }}\r\n                  >\r\n                      Log Out\r\n                  </button>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n\r\n\r\n        </nav>\r\n      </header>\r\n      {page === 'home' && (\r\n        <main className=\"main-content\">\r\n          <div className=\"logo\">\r\n            <img src={logo} alt=\"SkillShare Dearborn Logo\" />\r\n          </div>\r\n          <h1>Welcome to SkillShare - Dearborn!</h1>\r\n          <p>Register as a Resident or Log In Below:</p>\r\n          <div className=\"buttons\">\r\n            <button className=\"button\" onClick={() => handleNavigate('signup')}>Register</button>\r\n            <button className=\"button\" onClick={() => handleNavigate('login')}>Log In</button>\r\n          </div>\r\n        </main>\r\n      )}\r\n\r\n      {page === 'about' && (\r\n        <main className=\"about-content\">\r\n          <div className=\"about-banner\">\r\n            <img src={logo} alt=\"SkillShare Dearborn Logo\" className=\"about-logo\" />\r\n            <h1>About Us</h1>\r\n          </div>\r\n          <section className=\"about-section\">\r\n            <p>\r\n              Welcome to SkillShare Dearborn, a community-driven platform dedicated to fostering sustainability, skill-sharing,\r\n              and environmental consciousness through collaborative repair events.\r\n            </p>\r\n            <p>\r\n              Join us to learn new skills, save money, and contribute to a more environmentally friendly Dearborn!\r\n            </p>\r\n          </section>\r\n        </main>\r\n      )}\r\n\r\n      {page === 'community' && (\r\n        <main className=\"community-content\">\r\n          <h1>Find a Community Repair Forum</h1>\r\n          <div className=\"community-categories\">\r\n            <div className=\"community-item\" onClick={() => handleCategoryClick('Mechanics')}>\r\n              <img src={mechanicsIcon} alt=\"Mechanics\" />\r\n              <p>Mechanics</p>\r\n            </div>\r\n            <div className=\"community-item\" onClick={() => handleCategoryClick('Electronics')}>\r\n              <img src={electronicsIcon} alt=\"Electronics\" />\r\n              <p>Electronics</p>\r\n            </div>\r\n            <div className=\"community-item\" onClick={() => handleCategoryClick('Home Appliances')}>\r\n              <img src={appliancesIcon} alt=\"Home Appliances\" />\r\n              <p>Home Appliances</p>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      )}\r\n\r\n      {page === 'category' && selectedCategory && (\r\n        <main className=\"category-content\">\r\n          <div className=\"community-logo\">\r\n            <img\r\n              src={\r\n                selectedCategory === 'Mechanics'\r\n                  ? mechanicsIcon\r\n                  : selectedCategory === 'Electronics'\r\n                  ? electronicsIcon\r\n                  : appliancesIcon\r\n              }\r\n              alt={selectedCategory}\r\n            />\r\n            <h2>{selectedCategory} Forum</h2>\r\n          </div>\r\n          <div className=\"posts\">\r\n          {posts[selectedCategory]?.length > 0 ? (\r\n            posts[selectedCategory].map((post) => (\r\n              <div key={post.id} className=\"post\">\r\n               <div className=\"image-slider\">\r\n                    {post.files?.length > 1 && (\r\n                      <button\r\n                        className=\"arrow left-arrow\"\r\n                        onClick={() => handleImageNav(post.id, selectedCategory, -1)}\r\n                      >\r\n                        &lt;\r\n                      </button>\r\n                    )}\r\n\r\n                    {post.files?.length > 0 ? (\r\n                      <img\r\n                        src={post.files[currentImageIndex[post.id] || 0]} // Show the current image\r\n                        alt=\"Post content\"\r\n                        className=\"post-image\"\r\n                        onError={(e) => {\r\n                          e.target.src = 'default-image.png'; // Use fallback image\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      <img\r\n                        src=\"default-image.png\"\r\n                        alt=\"Default content\"\r\n                        className=\"post-image\"\r\n                      />\r\n                    )}\r\n\r\n                    {post.files?.length > 1 && (\r\n                      <button\r\n                        className=\"arrow right-arrow\"\r\n                        onClick={() => handleImageNav(post.id, selectedCategory, 1)}\r\n                      >\r\n                        &gt;\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                <div className=\"post-content\">\r\n                  <p className=\"post-text\">{post.content}</p>\r\n                  <div className=\"post-footer\">\r\n                    <span className=\"post-username\">By {post.username}</span>\r\n                    <span className=\"post-date\">{post.date}</span>\r\n                    {(loggedInUser?.id === post.userId || loggedInUser?.isAdmin) && (\r\n                      <button\r\n                        className=\"delete-button\"\r\n                        onClick={() => handleDeletePost(post.id, selectedCategory)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    )}\r\n\r\n                  </div>\r\n\r\n                  <div className=\"comments-section\">\r\n                    <h3>Comments:</h3>\r\n                    <ul className=\"comments-list\">\r\n                      {comments[post.id]?.map((comment, index) => (\r\n                        <li key={index} className=\"comment\">\r\n                          <p className=\"comment-text\">{comment.text}</p>\r\n                          <div className=\"comment-footer\">\r\n                            <span>{comment.username}</span>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                    <form\r\n                      className=\"add-comment-form\"\r\n                      onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        const commentText = e.target.elements['commentInput'].value;\r\n                        handleAddComment(post.id, selectedCategory, commentText);\r\n                        e.target.reset();\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"commentInput\"\r\n                        placeholder=\"Add a comment...\"\r\n                        className=\"comment-input\"\r\n                      />\r\n                      <button type=\"submit\" className=\"comment-button\">Comment</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"no-posts\">\r\n              <p>No Posts Yet</p>\r\n            </div>\r\n          )}\r\n\r\n          </div>\r\n          <button className=\"add-button\" onClick={handleModalToggle}>+</button>\r\n          {isModalOpen && (\r\n            <div className=\"modal\">\r\n              <div className=\"modal-content\">\r\n                <h2>Create a Post in {selectedCategory}</h2>\r\n                <form onSubmit={handleFormSubmit}>\r\n                  <textarea\r\n                    name=\"postContent\"\r\n                    placeholder={`Connect with the ${selectedCategory} community here...`}\r\n                    className=\"form-textarea\"\r\n                    required\r\n                  ></textarea>\r\n                  <div className=\"form-actions\">\r\n                    <input type=\"file\" name=\"fileUpload\" className=\"form-file\" multiple />\r\n                    <button type=\"submit\" className=\"popup-submit-button\">Submit</button>\r\n                  </div>\r\n                </form>\r\n                <button className=\"popup-close-button\" onClick={handleModalToggle}>Close</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      )}\r\n\r\n{page === 'adminLogin' && (\r\n  <main className=\"main-content login-form\">\r\n    <div className=\"logo\">\r\n      <img src={require('./adminpage.png')} alt=\"Admin Logo\" />\r\n    </div>\r\n    <h1>Admin Log In</h1>\r\n    <form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        const email = e.target.elements['email'].value;\r\n        const password = e.target.elements['password'].value;\r\n\r\n        // Validate admin credentials\r\n        const success = handleAdminLogin(email, password);\r\n\r\n        if (success) {\r\n          setPage(\"admin\"); // Navigate to admin dashboard\r\n        }\r\n      }}\r\n    >\r\n      <input type=\"email\" name=\"email\" placeholder=\"Admin Email\" className=\"form-input\" required />\r\n      <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-input\" required />\r\n      <button type=\"submit\" className=\"button\">Log In</button>\r\n    </form>\r\n    <button className=\"button back-button\" onClick={() => handleNavigate('home')}>\r\n      Back\r\n    </button>\r\n  </main>\r\n)}\r\n\r\n{page === 'admin' && loggedInUser?.isAdmin && (\r\n  <main className=\"admin-content\">\r\n    <h1>Admin Dashboard</h1>\r\n    <section>\r\n      <h2>Registered Users</h2>\r\n      {users.length > 0 ? (\r\n        users.map((user) => (\r\n          <div key={user.id} className=\"admin-user\">\r\n            <p><strong>Name:</strong> {user.name}</p>\r\n            <p><strong>Email:</strong> {user.email}</p>\r\n            <p><strong>Zipcode:</strong> {user.zipcode}</p>\r\n            <p><strong>Status:</strong> {user.isActive ? 'Active' : 'Inactive'}</p>\r\n            <button\r\n              onClick={() => toggleUserActivation(user.id, user.isActive)}\r\n            >\r\n              {user.isActive ? 'Deactivate' : 'Activate'}\r\n            </button>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p>No users found.</p>\r\n      )}\r\n    </section>\r\n  </main>\r\n)}\r\n\r\n\r\n\r\n{page === 'signup' && (\r\n  <main className=\"main-content signup-form\">\r\n    <div className=\"logo\">\r\n      <img src={logo} alt=\"SkillShare Dearborn Logo\" />\r\n    </div>\r\n    <h1>Sign Up Here!</h1>\r\n    <form onSubmit={handleSignUp} className=\"signup-form\">\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"name\" className=\"form-label\">Full Name</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          placeholder=\"Full Name\"\r\n          className=\"form-input\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"email\" className=\"form-label\">Email Address</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email Address\"\r\n          className=\"form-input\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          className=\"form-input\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"zipcode\" className=\"form-label\">Zipcode</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"zipcode\"\r\n          name=\"zipcode\"\r\n          placeholder=\"Zipcode\"\r\n          className=\"form-input\"\r\n          required\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"button form-submit-button\">Register</button>\r\n    </form>\r\n    <button className=\"button back-button\" onClick={() => handleNavigate('home')}>Back</button>\r\n  </main>\r\n)}\r\n\r\n\r\n{page === 'login' && (\r\n  <main className=\"main-content login-form\">\r\n    <div className=\"logo\">\r\n      <img src={logo} alt=\"SkillShare Dearborn Logo\" />\r\n    </div>\r\n    <h1>Log In</h1>\r\n    <form\r\n      onSubmit={async (e) => {\r\n        e.preventDefault();\r\n        const email = e.target.elements['email'].value;\r\n        const password = e.target.elements['password'].value;\r\n\r\n        // Call the reusable handleLogin function\r\n        const success = await handleLogin(email, password);\r\n\r\n        if (success) {\r\n          // Navigate to the community page on successful login\r\n          setPage('community');\r\n        }\r\n      }}\r\n    >\r\n      <input type=\"email\" name=\"email\" placeholder=\"Email Address\" className=\"form-input\" required />\r\n      <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-input\" required />\r\n      <button type=\"submit\" className=\"button\">Log In</button>\r\n    </form>\r\n\r\n    <button className=\"button back-button\" onClick={() => handleNavigate('home')}>\r\n      Back\r\n    </button>\r\n  </main>\r\n)}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}